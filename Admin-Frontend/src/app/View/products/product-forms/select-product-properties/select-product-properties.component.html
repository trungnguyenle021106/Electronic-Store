<div class="main-container">
    <div class="header-controls">
        <div class="search-bar-wrapper">
            <label for="search-input" class="search-label">T√¨m ki·∫øm</label>
            <div class="search-input-group">
                <input type="text" id="search-input" class="search-input" placeholder="Nh·∫≠p t·ª´ kh√≥a..."
                    [(ngModel)]="searchValue" (input)="onSearchInput($event)" />
                <span class="search-icon">üîç</span>
            </div>
        </div>

        <div class="filter-select-wrapper" *ngIf="!isSelectedPropertyForm">
            <label for="filter-select" class="filter-label">L·ªçc theo</label>
            <select id="filter-select" class="filter-select" [(ngModel)]="filterValue" (change)="onFilterChange()">
                <option value="">-- L·ªçc theo t√™n thu·ªôc t√≠nh --</option>
                <option *ngFor="let name of uniquePropertyNames" [value]="name">{{ name }}</option>
            </select>
        </div>

    </div>

    <div class="mat-elevation-z8 table-container">
        <table mat-table [dataSource]="dataSource">

            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef> ID </th>
                <td mat-cell *matCellDef="let element"> {{element.ID}} </td>
            </ng-container>

            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> T√™n </th>
                <td mat-cell *matCellDef="let element"> {{element.Name}} </td>
            </ng-container>

            <ng-container matColumnDef="Describe">
                <th mat-header-cell *matHeaderCellDef> M√¥ t·∫£ </th>
                <td mat-cell *matCellDef="let element"> {{element.Description}} </td>
            </ng-container>

            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef> H√†nh ƒë·ªông </th>
                <td mat-cell *matCellDef="let row">
                    <button *ngIf="isSelectedPropertyForm" class="action-button"
                        [class.selected-row-button]="isSelected(row)" (click)="toggleSelection(row)">
                        X√≥a
                    </button>

                    <button *ngIf="!isSelectedPropertyForm" class="action-button"
                        [class.selected-row-button]="isSelected(row)" (click)="toggleSelection(row)"
                        [disabled]="isSelected(row)"> {{ isSelected(row) ? 'ƒê√£ ch·ªçn' : 'Ch·ªçn' }}
                    </button>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;">
            </tr>

            <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ ph√π h·ª£p.</td>
            </tr>
        </table>

        <mat-paginator [pageSizeOptions]="[5]" [pageSize]="pageSize" showFirstLastButtons
            aria-label="Select page of elements">
        </mat-paginator>
    </div>
</div>